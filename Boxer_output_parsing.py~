#!/usr/bin/python
# -*- coding: utf-8 -*-

# Contributors:
# * Katya Ovchinnikova <e.ovchinnikova@gmail.com> (2014)
# Boxer output parser.
# The script takes the output of the Boxer Parser, parses it, and puts into a json structure.

import sys
import argparse

from Boxer import BoxerReader

def main():

	# parse arguments
	parser = argparse.ArgumentParser(description="Boxer output parser.")
	parser.add_argument("-i", help="The input Boxer file to be processed. Default is stdin.", default=None)
	parser.add_argument("-o", help="Output file. Default is stdout.", default=None)
	
	pa = parser.parse_args()

	ifile = open(pa.i, "r") if pa.i else sys.stdin
	ofile = open(pa.o, "w") if pa.o else sys.stdout

	# read Boxer file, parse it, convert into json, and write into output
	boxer_file = BoxerReader(ifile)
	#writer = JsonWriter(ofile)
	#for text_block in boxer_file:
		#writer.write(json_struc)
		#print text_block

	ifile.close()
	ofile.close()

if __name__ == "__main__":
	main()